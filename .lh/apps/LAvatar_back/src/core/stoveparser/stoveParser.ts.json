{
    "sourceFile": "apps/LAvatar_back/src/core/stoveparser/stoveParser.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1675960598348,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1675960598348,
            "name": "Commit-0",
            "content": "import axios from 'axios'\nimport { replace } from 'lodash'\n\nexport const memberNoParser = (url: string) => {\n    let r = url.trim();\n    r = r.replace(\"https://timeline.onstove.com/\", \"\")\n    r = r.replace(\"/\", \"\")\n    \n    return r  \n}\n\nconst memberNoVailationCheck = (member_no: string) => {\n    if (isNaN(member_no as any)){\n        return false\n    }\n    return true\n}\nconst getStoveIntroduceFromURL = async (url: string) => {\n    let apiURL = \"https://api.onstove.com/tm/v1/preferences/{member_no}\"\n    \n    const member_no = memberNoParser(url)\n    if (!memberNoVailationCheck(member_no)){\n        throw new Error(\"invalid member number!\")\n    }\n    apiURL = apiURL.replace(\"{member_no}\", member_no)\n    axios(  \n        {\n            url: apiURL,\n            method: \"GET\"\n        }\n    )\n    .then((res) => {\n        console.log(`Introduce of member ${member_no}: ${res.data[\"data\"][\"introduce\"]}`)\n        return res.data[\"data\"][\"introduce\"]\n    })\n    .catch((error) => {\n        return console.log(\"Failed to get Member Introduce!\")\n    })\n\n    return\n}\n\nexport const getEncryptedMemberNo = async (member_no): Promise<string> => {\n    const url = \"https://lostark.game.onstove.com/board/IsCharacterList\"\n    const res = await axios.post(\n        url,\n        {\n            memberNo: member_no\n        }\n    )\n    console.log(`Encrypted Member Number of Member ${member_no}: ${res.data[\"encryptMemberNo\"]}`)\n    return res.data[\"encryptMemberNo\"] || \"\" as string\n}\n\nexport default getStoveIntroduceFromURL"
        }
    ]
}